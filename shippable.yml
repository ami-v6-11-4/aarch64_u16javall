language: java

# Version number
jdk:
  - openjdk7
  - openjdk8
  - openjdk10
  - openjdk9
  - oraclejdk9

runtime:
  nodePool: custom__aarch64__Ubuntu_16_04

matrix:
#include this version with the env 
  include:               
    - python: oraclejdk8 #this cant trigger 3 builds for multiple node pool. Include section purpose is trigger something in single build not as matrix. if we apply multiple node pool here it might end up in triggering in matrix so doesnt apply.
      env: 
        - M1=ONE #just to pass build Since this is in include section it wont take matrix environment variable and value so adding same env n value here. since in all section we are verifing env n value
        - env1=OneValueFromInclude
#excludes this version 
  exclude:             
    - jdk: oraclejdk9
      env:
        - env1=valuefromexcludesection
#allows failure for this version
  allow_failures: 
    - jdk: openjdk9
      
build:
  pre_ci_boot:
    image_name: drydock/aarch64_u16javall
    image_tag: master
    pull: true
    
  ci:
    - java -version
    - docker ps
    - docker images
    - mvn --version    
    - ant -version 
    - gradle --version
    - docker pull shippabledocker/sample_node_pvt:ecr
    
integrations:
    
  hub:
 #Docker integration
    - integrationName: ship-docker
      type: dockerRegistryLogin 
